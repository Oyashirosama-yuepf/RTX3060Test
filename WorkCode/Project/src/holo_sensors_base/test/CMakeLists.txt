project(${PROJECT_NAME}_common_unit_test)

GENERATE_DOXYGEN(INPUT ${CMAKE_CURRENT_LIST_DIR})

find_package(GTest 1.8.1 EXACT REQUIRED)
set(lib_support ${${CMAKE_PROJECT_NAME}_TARGETS} GTest::GTest)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wno-error=unused-variable")

# test entries
HOLO_COMPILE_TEST("camera/test_image_ipc" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("camera/test_image_encoder_nv12" LIBRARIES "${lib_support}")
#HOLO_COMPILE_TEST("camera/test_image_encoder_mdc610" LIBRARIES "${lib_support}")
# HOLO_COMPILE_TEST("camera/test_image_decoder" LIBRARIES "${lib_support}")
# HOLO_COMPILE_TEST("camera/test_image_encoder" LIBRARIES "${lib_support}")
#HOLO_COMPILE_TEST("image/test_image_resize" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("common/test_device" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("common/test_interface" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_holocan" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_holosync" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_livox" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_pandar" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_rawbuf" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_someip" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("format/test_packeddata" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("utils/test_sensors_utils" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("imu/test_imu.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("imu/aceinna/test_aceinna_holocan.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("imu/aceinna/test_aceinna_someip.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("asensing/test_asensing_holocan.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("radar/ars408/test_ars408_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("radar/ars408/test_ars408_holocan.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("radar/ars408/test_ars408_someip.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/ifv300/structure/test_ifv300_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/ifv300/structure/test_ifv300_obstacle.cpp" LIBRARIES "${lib_support}")
#HOLO_COMPILE_TEST("smart_camera/ifv300/holocan/test_ifv300_holocan_base.cpp" LIBRARIES "${lib_support}")
#HOLO_COMPILE_TEST("smart_camera/ifv300/holocan/test_ifv300_holocan_laneboundary.cpp" LIBRARIES "${lib_support}")
#HOLO_COMPILE_TEST("smart_camera/ifv300/holocan/test_ifv300_holocan_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/ifv300/someip/test_ifv300_someip_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/ifv300/someip/test_ifv300_someip_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/ifv300/someip/test_ifv300_someip_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me8/test_me8_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/matrix2/structure/test_matrix2_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/matrix2/structure/test_matrix2_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/matrix2/holocan/test_matrix2_holocan_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/matrix2/holocan/test_matrix2_holocan_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/matrix2/holocan/test_matrix2_holocan_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/structure/test_me3_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/structure/test_me3_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/holocan/test_me3_holocan_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/holocan/test_me3_holocan_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/holocan/test_me3_holocan_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/someip/test_me3_someip_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/someip/test_me3_someip_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/me3/someip/test_me3_someip_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/structure/test_mpc2_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/structure/test_mpc2_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/holocan/test_mpc2_holocan_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/holocan/test_mpc2_holocan_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/holocan/test_mpc2_holocan_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/someip/test_mpc2_someip_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/someip/test_mpc2_someip_laneboundary.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("smart_camera/mpc2/someip/test_mpc2_someip_obstacle.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("novatel/test_novatel.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("gnss/ublox/test_ublox_base.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("gnss/ublox/test_ublox_rawbuf.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("gnss/ublox/test_ublox_someip.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("gnss/ublox/test_ublox_structure.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("lidar/libply/test_libply.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("lidar/livox/test_livox_driver.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("lidar/livox/test_livox_hap_driver.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("lidar/test_pointcloud_ipc.cpp" LIBRARIES "${lib_support}")
HOLO_COMPILE_TEST("interface/test_udp_interface.cpp" LIBRARIES "${lib_support}")
